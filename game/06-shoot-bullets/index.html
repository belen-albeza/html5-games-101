<!doctype html>
<head>
    <title>Payun-payun - step by step development</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="../styles.css" type="text/css">
    <!-- syntax highlighting -->
    <link rel="stylesheet" href="../prism.css" type="text/css">
    <script src="../prism.js"></script>
<body>
    <h1><a href="../index.html">Payun-payun</a></h1>

    <iframe width="512" height="512" src="iframe.html"></iframe>

    <article class="notes">
    <p>In the game, the ship shoots two bullets –one per cannon– every time that
        the player presses the spacebar key. To subscribe to key down events, we
        need to add an event listener on the <code class="lang-javascript">onDown</code>
        signal of the spacebar key.</p>
<pre><code class="lang-javascript">
this.keys.space.onDown.add(function () {
    this.ship.shoot();
});
</code></pre>
    <p>The <code class="lang-javascript">shoot</code> method of
        <code class="lang-javascript">Ship</code> will spawn two bullets and add
        them to the game world.</p>
    <p>To handle bullets, we will create a new sprite class,
        <code class="lang-javascript">Bullet</code>, like we did with the ship,
        and set its vertical velocity to a negative value so the bullet moves
        upwards.</p>
    <p>We need to remove bullets from the game world when they are not visible
        any more to save memory. We can achieve this by calling the
        <code class="lang-javascript">destroy</code> method of
        <code class="lang-javascript">Phaser.Sprite</code>.</p>
    <p>To detect when a bullet has dissappear, we can check for its
        <code class="lang-javascript">y</code> coordinate every frame, by
        adding an <code class="lang-javascript">update</code> method to the class.
        Phaser will automatically call this method every frame.</p>
    </article>
</body>
